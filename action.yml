name: "Publish Unreleased Changelog"
author: "PhantasmicDev"
description: "A simple GitHub action that replaces the [Unreleased] heading with the new specified version and date."
branding:
  icon: "file-text"
  color: "white"

inputs:
  version:
    description: "The new version to replace the unreleased heading with."
    required: true
  changelog-path:
    description: "The path to the changelog file."
    required: false
    default: "CHANGELOG.md"
  time-zone:
    description: "The TZ database name for the target time zone, used to extract the date."
    required: false
    default: "Etc/UTC"

runs:
  using: "composite"
  steps:
    - run: $GITHUB_ACTION_PATH/run.sh
      shell: bash
      env:
        INPUT_VERSION: ${{ inputs.version }}
        INPUT_CHANGELOG_PATH: ${{ inputs.changelog-path }}
        INPUT_TIME_ZONE: ${{ inputs.time-zone }}
